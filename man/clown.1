.TH CLOWN 1 "DECEMBER 2023" "version 2.20" "USER COMMANDS"

.SH NAME 

clown \- Intel 30386-based virtual mahine with a keyboard, text-based
monitor, and a hard drive.

.SH SYNOPSIS
.B clown 
[-h|--help] [-q|--silent] [-v|--version] [-r|--run] [--cpl
.IR cpl ]
[-b|--bin
.I cle-file
.IR address ]
.RI [more-cle-file(s)]
...

.SH DESCRIPTION
.B Clown
is an instruction-level Intel 30386-based virtual machine. The VM features a
.SM CPU
with a L1 cache, a memory management unit, an interval timer, a
keyboard, text-based monitor, a hard drive, and a
.SM DMA
controller. The primary goal of
.B Clown
is to facilitate the understanding of lower-level operating systems
organization, foundational concepts in computer architecture, and
assembly language programming, without the complexities inherent in a
real Intel 30386 (or higher)
.SM CPU.
.P
.B Clown
supports over 90 instructions and uses a single data type: the
unsigned 32-bit integer. The
.SM CPU
boasts 16 general-purpose registers (three doubling as the stack
pointer, the page table pointer, and the fault address register),
along with 8 segment registers. It features four levels of protection
and supports hardware interrupts (both internal and external), paging,
and segmentation, utilizing global and local descriptor tables.

.SH OPTIONS
.TP
\-h, \-\-help
Display the help message and exit.
.TP 
\-q|\-\-silent
Operate silently, suppressing diagnostic messages.
.TP
\-v|\-\-version
Show the version number and exit.
.TP
\-r|\-\-run
Launch the VM in batch mode.
.TP
\-\-cpl cpl
Set the initial current privilege level (CPL) of the Clown
.SM CPU 
to 
.I cpl .
.TP 
\-b|\-\-bin cle-file address
Load an executable or data image from file 
.I cle-file 
into the 
.SM RAM 
at address 
.IR addr . 
Repeat this option as needed to load multiple image files.
.P
Executable or data image(s) from 
.I more-cle-file(s)
are loaded into the 
.SM RAM 
at address 0, in the order they are specified on the command
line. Overlapping of images in the
.SM RAM
is permissible.

.SH FILES
The default disk image is located in the file
.IR clown.dsk .

.SH ENVIRONMENT
.TP 
.IR CLOWN_DISC
Specifies the directory to search for the disk image file.

.SH AUTHOR
Dmitry Zinoviev <dzinoviev at suffolk dot edu>
.SH "SEE ALSO"
.BR cas (1),
.BR clink (1),
.BR cformat (1),
.BR cdiskdup (1)
